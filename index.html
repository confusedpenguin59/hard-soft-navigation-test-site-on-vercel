<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="origin-trial" content="Asra47c5PJdOJsGpQmgukEpiWUnItDRAmhRYo78do7yE1TaKxHXmC+ql58+EVp3ONPHJAgXEMSqiV4l9ZtA5Lg0AAACAeyJvcmlnaW4iOiJodHRwczovL2hhcmQtc29mdC1uYXZpZ2F0aW9uLXRlc3Qtc2l0ZS1vbi12LnZlcmNlbC5hcHA6NDQzIiwiZmVhdHVyZSI6IlNvZnROYXZpZ2F0aW9uSGV1cmlzdGljcyIsImV4cGlyeSI6MTc3MzEwMDgwMH0=">
</head>
<body>

<div id="main">
  <h1>Page 1</h1>
  <a href="page2.html"><button>Hard → Page 2</button></a>
  <button onclick="softNav()">Soft → Page 3</button>
</div>

<div id="page3" hidden>
  <h1>Page 3</h1>
  <button onclick="softBack()">Back</button>
</div>

<script>
  const observer = new PerformanceObserver((list) => {
    for (const entry of list.getEntries()) {
      console.log('Soft navigation detected:', entry);
    }
  });

  observer.observe({ type: 'soft-navigation', buffered: true });
  function softNav() {
    history.pushState({}, '', '/page3.html');
    document.getElementById('main').hidden = true;
    document.getElementById('page3').hidden = false;
  }
  function softBack() {
    history.pushState({}, '', '/page1.html');
    document.getElementById('page3').hidden = true;
    document.getElementById('main').hidden = false;
  }
</script>

</body>
</html>
